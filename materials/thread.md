## 进程、线程
*[-o-]: TODO: add more details

- 进程是资源分配的最小单位
- 线程是CPU调度的最小单位

### 进程

进程是资源分配的最小单位。每个进程都有**独立的代码和数据空间（上下文）**。进程间切换开销较大。单个进程可以包含多个线程。

#### 进程间通信
- 管道
- 信号
- 消息队列
- 共享内存
- 信号量
- 套接字

### 线程
线程是CPU调度的最小单位。同一类线程共享代码和数据空间

### 进程与线程的关系

1. 一个线程只能属于一个进程，一个进程可以有多个进程（至少一个）
2. 资源分配给进程，同一进程的多个线程共享资源
3. cpu调度线程
4. 进程切换虚拟地址空间，线程无

 进程切换变更上下文
 上下文：
    - 程序计数器（PC）
    - 寄存器
    - 堆栈（用户栈、内核栈）
    - 各种内核数据结构（页表，进程表，文件表）

- 对比
    - 进程的系统开销显著大于线程
        - 进程：内存空间+上下文+内核栈；
        - 线程：上下文+内核栈；
    - 进程切换的开销比线程大
        - 如上，进程需要切换内存空间（刷新页表）
    - 进程通信的开销比线程大
        - 线程可以通过共享内存通信
        - 进程需要其他机制：管道、消息队列、共享内存等
### Refs

https://blog.csdn.net/weixin_42981419/article/details/86162071
https://www.cnblogs.com/zhuzhu2016/p/5804875.html
https://www.cnblogs.com/lfri/p/12597297.html